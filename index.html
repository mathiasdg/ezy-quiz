<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>De ezies-quiz ü´è</title>
    <link rel="icon" type="image/x-icon" href="favicon.svg">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="main.css">
    <!-- <link rel="stylesheet" type="text/css" href="neo.css"> -->

    <!-- <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script> -->
    <script src="main.js" type="module" defer></script>

</head>
<body>

    <div class="quiz-wrapper" x-data="quizApp">
        <template x-if="donkeys.length === 0">
            <div style="padding: 50px; text-align: center;">
                <p>De ezels komen eraan... ü´è</p>
            </div>
        </template>

        <template x-if="!quizFinished">
            <div class="layout-grid">
                
                <div class="image-side">
                    <img :src="currentImageUrl" :alt="Foto van een superschattige ezy uit de Aude">
                </div>

                <div class="content-side">
                    <div class="counter" x-text="'Ezy ' + (currentIndex + 1) + ' van ' + donkeys.length"></div>
                    <h1>Wie is deze cutie?</h1>

                    <div class="options">
                        <template x-for="option in currentOptions" :key="option">
                            <button 
                                class="btn" 
                                :class="{ 
                                    'correct': showFeedback && option === donkeys[currentIndex].naam,
                                    'wrong': showFeedback && selectedAnswer === option && option !== donkeys[currentIndex].naam
                                }"
                                @click="checkAnswer(option)"
                                :disabled="showFeedback"
                                x-text="option">
                            </button>
                        </template>
                    </div>

                    <div x-show="showFeedback" x-transition>
                        <button class="next-btn" @click="nextQuestion">
                            <span x-text="currentIndex + 1 === donkeys.length ? 'Bekijk Resultaat' : 'Volgende schattigaard ‚Üí'"></span>
                        </button>
                    </div>
                </div>

            </div>
        </template>

        <template x-if="quizFinished">
            <div class="results">
                <h1>Knap bal!</h1>
                <p style="margin: 20px 0; font-size: 1.3rem;">
                    <!-- Je kent de ezels door en door!<br> -->
                    Score: <strong x-text="score"></strong> / <strong x-text="donkeys.length"></strong>
                </p>
                <button class="next-btn" style="width: auto;" @click="resetQuiz">Opnieuw proberen</button>
            </div>
        </template>

    </div>
</body>
</html>
